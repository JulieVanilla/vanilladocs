<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>Plugin Quickstart &middot; Vanilla Documentation</title><meta name=description content=""><meta name=keywords content=""><meta name=viewport content="width=device-width"><meta name=google-site-verification content=IWfWjN_f_82e7heCa9D0SJRhIf8aZdPNKZm_ympcB54><link rel=stylesheet href=/assets/473cd1a5.main.css><body><div id=top></div><nav class="navbar navbar-default navbar-static-top" role=navigation><div class=container><div class=navbar-header><a class=navbar-brand href="/"><img class=logo src=/assets/img/9bdefa97.logo.svg alt="Vanilla Forums" width=102 height=41> Docs</a></div><div class="collapse navbar-collapse"><div class="navbar-form navbar-left"><div class="dropdown js-search" role=search><div class=form-group><input class="form-control js-search-input" id=docs-search title="Search the documentation" placeholder=Search></div><ul class="dropdown-menu dropdown-search-results js-search-results"><li><a><span class=title></span> <span class=categories></span></a></li></ul></div></div><ul class="nav navbar-nav navbar-right"><li><a href=http://vanillaforums.com>Cloud Hosted Community</a></li><li><a href=http://vanillaforums.org>Open Source Community</a></li></ul></div></div></nav><header class="jumbotron masthead" role=banner><div class=container><h1>Plugin Quickstart</h1></div></header><div class=container><ol class=breadcrumb><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/" itemprop=url><span itemprop=title>Home</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href=/developers itemprop=url><span itemprop=title>Developers</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href=/developers/plugins itemprop=url><span itemprop=title>Plugins</span></a></li><li class=active itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span itemprop=title>Plugin Quickstart</span></li></ol><div class=row><div class=col-sm-2><nav class="docs-nav js-docs-nav" role=navigation><ul class="nav nav-stacked"><li><a href=/addons>Addons</a><ul class="nav nav-stacked"><li><a href=/addons/badges>Badges</a><ul class="nav nav-stacked"><li><a href=/addons/badges/adding-and-editing-badges>Adding and Editing Badges</a></li><li><a href=/addons/badges/giving-and-requesting-badges>Giving and Requesting Badges</a></li></ul></li><li><a href=/addons/gigya>Gigya Sign In</a></li><li><a href=/addons/groups>Groups</a><ul class="nav nav-stacked"><li><a href=/addons/groups/managing-groups>Managing Groups</a></li></ul></li><li><a href=/addons/pockets>Introduction to Pockets</a></li><li><a href=/addons/ranks>Ranks</a><ul class="nav nav-stacked"><li><a href=/addons/ranks/adding-and-editing-ranks>Adding and Editing Ranks</a></li><li><a href=/addons/ranks/applying-ranks-over-sso>Applying Ranks over SSO</a></li><li><a href=/addons/ranks/using-ranks-as-incentives>Using Ranks as Incentives</a></li><li><a href=/addons/ranks/using-ranks-to-defeat-spam-or-abuse>Using Ranks to Defeat Spam or Abuse</a></li></ul></li><li><a href=/addons/reactions>Reactions</a><ul class="nav nav-stacked"><li><a href=/addons/reactions/adding-and-editing-reactions>Adding and Editing Reactions</a></li><li><a href=/addons/reactions/curating-with-reactions>Curating with Reactions</a></li></ul></li><li><a href=/addons/reporting>Reporting</a></li><li><a href=/addons/statistics>Vanilla Statistics</a></li><li><a href=/addons/warnings-and-notes>Warnings and Notes</a><ul class="nav nav-stacked"><li><a href=/addons/warnings-and-notes/adding-and-editing-user-notes>Adding and Editing User Notes</a></li><li><a href=/addons/warnings-and-notes/upgrading-from-warnings>Upgrading from Warnings</a></li><li><a href=/addons/warnings-and-notes/warning-a-user>Warning a User</a></li></ul></li></ul></li><li><a href=/api>API</a><ul class="nav nav-stacked"><li><a href=/api/smart-id>Smart ID</a></li><li><a href=/api/categories>Categories</a></li><li><a href=/api/comments>Comments</a></li><li><a href=/api/discussions>Discussions</a></li><li><a href=/api/forum-administration>Forum Administration</a></li></ul></li><li><a href=/cloud>Cloud Services</a><ul class="nav nav-stacked"><li><a href=/cloud/integration>Integration Services</a></li><li><a href=/cloud/migration>Migration Services</a></li><li><a href=/cloud/repo>Repository</a></li><li><a href=/cloud/ssl>Setting up SSL (https)</a></li><li><a href=/cloud/staging>Staging Site</a></li><li><a href=/cloud/support>Support</a></li><li><a href=/cloud/theming>Theming Services</a></li></ul></li><li class=active><a href=/developers>Developers</a><ul class="nav nav-stacked"><li><a href=/developers/changelog>Changelog</a></li><li><a href=/developers/troubleshooting>Troubleshooting</a></li><li><a href=/developers/configuration>Configuration</a><ul class="nav nav-stacked"><li><a href=/developers/configuration/using>Using The Config</a></li></ul></li><li><a href=/developers/contributing>Contributing</a><ul class="nav nav-stacked"><li><a href=/developers/contributing/coding-standard>Coding Standard</a></li></ul></li><li><a href=/developers/framework>Framework</a><ul class="nav nav-stacked"><li><a href=/developers/framework/ajax>Asynchronous Requests</a></li><li><a href=/developers/framework/views>Views</a></li><li><a href=/developers/framework/controllers>Controllers</a></li><li><a href=/developers/framework/database>Database Queries</a></li><li><a href=/developers/framework/dispatcher>Dispatcher</a></li><li><a href=/developers/framework/helpers>Helpers</a></li><li><a href=/developers/framework/assets>Assets</a></li><li><a href=/developers/framework/inform>Inform Notifications</a></li><li><a href=/developers/framework/models>Models and Forms</a></li><li><a href=/developers/framework/modules>Modules</a></li><li><a href=/developers/framework/permissions>Permissions</a></li><li><a href=/developers/framework/i18n>Internationalization &amp; Localization</a></li></ul></li><li><a href=/developers/community>Developers Community</a></li><li><a href=/developers/installation>Installation</a></li><li><a href=/developers/locales>Locales</a></li><li class=active><a href=/developers/plugins>Plugins</a><ul class="nav nav-stacked"><li class=active><a href=/developers/plugins/quickstart>Plugin Quickstart</a></li></ul></li><li><a href=/developers/tools>Developer Tools</a></li><li><a href=/developers/importing>Importing</a><ul class="nav nav-stacked"><li><a href=/developers/importing/build>Building new porters</a></li><li><a href=/developers/importing/porter>Vanilla Porter</a></li><li><a href=/developers/importing/support>Supported platforms</a></li></ul></li></ul></li><li><a href=/features>Features</a><ul class="nav nav-stacked"><li><a href=/features/categories>Categories</a></li><li><a href=/features/embedding>Embedding</a></li><li><a href=/features/mobile>Mobile</a></li><li><a href=/features/moderation>Moderation</a></li><li><a href=/features/notifications>Notifications</a></li><li><a href=/features/setup>Setting Up Your New Forum</a></li><li><a href=/features/sso>Single Sign-On</a></li><li><a href=/features/wordpress>WordPress Integration</a><ul class="nav nav-stacked"><li><a href=/features/wordpress/using-comments>Using Comments</a></li><li><a href=/features/wordpress/wishlist>WishList Integration</a></li></ul></li></ul></li><li><a href=/theming>Theming</a><ul class="nav nav-stacked"><li><a href=/theming/css>Theming CSS</a></li><li><a href=/theming/hooks>Theming Hooks</a></li><li><a href=/theming/quickstart>Theming Quickstart</a></li><li><a href=/theming/smarty>Smarty</a><ul class="nav nav-stacked"><li><a href=/theming/smarty/asset>{asset}</a></li><li><a href=/theming/smarty/text>{text}</a></li><li><a href=/theming/smarty/custom-menu>{custom_menu}</a></li><li><a href=/theming/smarty/event>{event}</a></li><li><a href=/theming/smarty/i18n>{t}</a></li><li><a href=/theming/smarty/link>{link}</a></li><li><a href=/theming/smarty/breadcrumbs>{breadcrumbs}</a></li><li><a href=/theming/smarty/mobile-logo>{mobile_logo}</a></li><li><a href=/theming/smarty/permission>{permission}</a></li><li><a href=/theming/smarty/pocket>{pocket}</a></li><li><a href=/theming/smarty/searchbox>{searchbox}</a></li><li><a href=/theming/smarty/logo>{logo}</a></li></ul></li><li><a href=/theming/views>Theming Views</a></li></ul></li></ul><p class=hidden-xs><a class=text-muted href=#top><strong>Back to top</strong></a></p></nav></div><div class=col-sm-10><div class="edit-doc pull-right hidden-xs"><a class="btn btn-default btn-xs" href=https://github.com/vanilla/vanilladocs/edit/master/docs/developers/plugins/quickstart.html.md>Improve document</a></div><article class=markdown-body role=article><p><h2>Getting Started</h2></p><p></p><p>The first thing you do when writing a plugin is create a folder for your plugin in the plugin directory named after the plugin. Inside the folder create a default.php file. Next, open the default.php file and add the plugin definition at the top, like this:</p><p>// Define the plugin: $PluginInfo[&#39;SamplePlugin&#39;] = array( &#39;Description&#39; =&gt; &#39;This is a sample plugin.&#39;, &#39;Version&#39; =&gt; &#39;1.0&#39;, &#39;Author&#39; =&gt; &quot;Your Name&quot;, &#39;AuthorEmail&#39; =&gt; &#39;you@yourdomain.com&#39;, &#39;AuthorUrl&#39; =&gt; &#39;<a href=http://yourdomain.com>http://yourdomain.com</a>&#39; );</p><p></p><p>There are other definition settings you can provide, but this is the bare minimum you need to get started. To find out about all of the other definition settings, read the [[Plugins|complete plugin documentation]].</p><p><h2>Writing The Code</h2></p><p></p><p>There are many ways to approach writing a plugin in Vanilla, but there are the three methods you can use to &quot;hook&quot; into the Vanilla code: Custom Events, Magic Events, and Magic Methods.</p><p><h3>Custom Events</h3></p><p></p><p>Custom events are thrown at various places in the Vanilla code, and you can attach to them in order to perform some kind of action. For example, Vanilla fires a custom event called &quot;DiscussionOptions&quot; in the discussion list when the discussion option dropdown is being created. In order to attach to this event and add a new option, you could accomplish it with the following code:</p><p>class SamplePlugin extends Gdn_Plugin { public function DiscussionsController_DiscussionOptions_Handler(&amp;$Sender) { $Sender-&gt;Options .= &#39;&lt;li&gt;&lt;a href=&quot;&quot;&gt;New Discussion Option&lt;/a&gt;&lt;/li&gt;&#39;; } }</p><p></p><p>The way the handler method is declared defines how and where it attaches. In this example, the &quot;DiscussionsController&quot; part of the method name tells the plugin manager to look in the DiscussionsController for the event handler we are attaching to. The &quot;DiscussionOptions&quot; part of the method name identifies the name of the event handler to attach to. Every event handler in Vanilla passes in the &quot;Sender&quot; as the first parameter, where the Sender is the object being attached to. In this example, the &quot;Sender&quot; is the DiscussionsController object. To put it simply, you can think of your event handler as a function that gets called exactly where the event handler is called. You can attach as many handlers to an event as you like. We are adding new event handlers all the time, and we are working on a Vanilla Developer plugin that will allow you to visually see on every page where there are events for you to attach to when that the developer plugin is enabled.</p><p><h3>Magic Events</h3></p><p></p><p>Vanilla has the ability to create what we&#39;ve called &quot;Magic Events&quot;. Magic events allow you to attach to custom events that fire when a method is called in the Vanilla code. At the time of this writing, there is only one method in Vanilla that fires Magic Events: the Controller class&#39; &quot;Render&quot; method. The magic events that fire are:</p><ul><li>ObjectName_EventName_Before</li><li>ObjectName_EventName_Override</li><li>ObjectName_EventName_After</li></ul><p>These three magic events allow you to perform actions before and after the method gets called, as well as completely override the event if you wish. In the example of the base controller class&#39; Render method, it means that you could choose any controller in any application and perform actions before, after, or instead of the default one. The Magic Events also have the ability to act as a wildcard by specifying &quot;Base&quot; instead of the ObjectName (ie. Base_Render_Before). This gives you the power to attach to a magic event any time any controller calls its render method. To summarize, here are a bunch of examples of the type of things you can do with Magic Events:</p>class SamplePlugin extends Gdn_Plugin { public function DiscussionsController_Render_Before(&amp;$Sender) { // This method gets called before the Render method gets called on the DiscussionsController object. } public function PostController_Render_Override(&amp;$Sender) { // This method gets called in place of the PostController&#39;s Render method. } public function DraftsController_Render_After(&amp;$Sender) { // This method gets called after the Render method gets called on the DraftsController object. } public function Base_Render_Before(&amp;$Sender) { // This method gets called before the Render method gets called on every single class that // extends the Controller class (ie. every controller in every application). } }<h3>Magic Methods</h3><p>Finally, we come to magic methods. Imagine that there is an object in Vanilla that doesn&#39;t perform some task that you think is necessary. For example, what if I had created a UserController controller that only had methods to search for users, show users, and edit users. What if you wanted that controller to have a method to add a new user? That&#39;s where magic methods come into play. Magic methods in Vanilla essentially allow you to create new methods and add them to existing objects. They are created in much the same way that you attach to events. Using my UserController example, here is how I would create a Magic Method to add a new user:</p>class SamplePlugin extends Gdn_Plugin { public function UserController_Add_Create(&amp;$Sender) { // I&#39;d have some logic in here to save the user // Now I&#39;ll render a custom view I&#39;ve created for this new method.<br>// You&#39;d want to have an file in plugins/SamplePlugin/views/adduser.php.<br>$Sender-&gt;Render(&#39;AddUser&#39;, &#39;&#39;, &#39;plugins/SamplePlugin&#39;); } }<p>In this example, we are attaching to the UserController object, defining an &quot;Add&quot; method, and using the special &quot;Create&quot; syntax so that the plugin manager knows to create our new method when someone attempts to call an &quot;Add&quot; method on the UserController object. That&#39;s it!</p><h2>More Information</h2><p>If you want more in-depth information on how to create plugins in Vanilla, here are some places you can go:</p><ul><li>[[Plugins|Detailed information about plugins]]</li><li><a href=http://www.vanillaforums.org/addon/example-plugin-1.0>Download an example plugin to help you get started</a></li><li><a href=../../addons>Download some plugins from the addon site and see how some functioning plugins work!</a></li><li><a href=../../discussions>Get some help in the developer community</a></li></ul></article></div></div></div><footer class="footer js-footer"><div class=jumbotron><div class=container><div class=row><div class=col-sm-6><h3><a href=http://vanillaforums.com>Cloud Hosting</a></h3><p><strong>We believe that online communities should be intuitive, engaging and true to your brand.</strong> Vanilla allows you to create a customized community that rewards positive participation, automatically curates content and lets members drive moderation.</p></div><div class=col-sm-6><h3><a href=http://vanillaforums.org>Open Source</a></h3><p>Vanilla provides cloud and open source community forum software that powers discussion forums on more than 700,000 sites. Built for flexibility and integration, <strong>Vanilla is the best, most powerful community solution in the world.</strong></p></div></div></div></div><div class=footer-copyright><div class=container><p class=text-center>Copyright &copy; 2009-2014 <a href=http://vanillaforums.com>Vanilla Forums Inc.</a> All rights reserved.</p><ul class="list-inline text-center hidden-xs"><li><a href=http://docs.vanillaforums.com>Docs</a></li><li><a href=http://blog.vanillaforums.com>Blog</a></li><li><a href=http://vanillaforums.com>Cloud</a></li><li><a href=http://vanillaforums.org>Community</a></li><li><a href=https://github.com/vanilla>GitHub</a></li><li><a href=https://github.com/vanilla/vanilla/issues>Issues</a></li></ul></div></div></footer><script src=/assets/3d3a6616.main.js></script><script src=//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js></script><script>WebFont.load({google:{families:["Source Sans Pro:300,400,600,300italic,400italic,600italic:latin","Source Code Pro:400,600:latin"]}});</script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-12713112-1","auto"),ga("send","pageview");</script>